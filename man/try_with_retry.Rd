% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/build_weather_agent.R
\name{try_with_retry}
\alias{try_with_retry}
\title{Try an operation with exponential back-off}
\usage{
try_with_retry(fn, n_tries = 3, backoff = 2)
}
\arguments{
\item{fn}{A function of **no arguments** to execute.}

\item{n_tries}{Integer. Maximum number of attempts.  Default`3`.}

\item{backoff}{Numeric. Base delay in seconds for the exponential
back-off sequence.  Default`2`.}
}
\value{
Whatever `fn()` returns on the first successful run.
        If all attempts fail the function calls `stop()`.
}
\description{
Repeatedly calls a *zero-argument* function up to `n_tries` times,
pausing `backoff * 2^(i - 1)` seconds after each failure
(i.e., 2, 4,8 .seconds when `backoff = 2`).
If the function succeeds, its return value is passed through;
otherwise the last captured error is re-thrown.
}
\examples{
\dontrun{
# Retry a flaky network call up to five times
try_with_retry(function() readLines("https://httpbin.org/status/500"),
               n_tries = 5, backoff = 1)
}
}
